{"version":3,"sources":["styles.module.css","api/pixabayApi.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/ErrorItem/ErrorItem.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","axiosInstance","axios","create","baseURL","timeout","defaults","params","apiObj","fetchImages","currentPage","searchQuery","get","then","response","data","hits","Searchbar","state","query","hendleChange","e","setState","currentTarget","value","console","log","handleSubmit","preventDefault","props","onSubmit","className","styles","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","id","onClick","src","alt","ImageGalleryItemImage","onLoad","window","scrollTo","top","document","documentElement","scrollHeight","behavior","ImageGallery","pictures","map","picture","Button","errorItem","Modal","handleKeyDown","code","onClose","handleOverlayClick","event","target","addEventListener","removeEventListener","children","Overlay","App","selectedPicture","undefined","isLoading","error","onChangeQuery","searchImages","options","pixabayApi","prevState","catch","finally","toggleModal","find","largeImageURL","prevProps","shouldLoadMoreBtn","length","ErrorItem","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.88946a68.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__1QDQB\",\"Searchbar\":\"styles_Searchbar__1LWXO\",\"SearchForm\":\"styles_SearchForm__2ib5F\",\"SearchFormButton\":\"styles_SearchFormButton__3Qxcq\",\"SearchFormButtonLabel\":\"styles_SearchFormButtonLabel__3ebq4\",\"SearchFormInput\":\"styles_SearchFormInput__15l_e\",\"ImageGallery\":\"styles_ImageGallery__3KkU-\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__1ZB3Q\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__1FphB\",\"Overlay\":\"styles_Overlay__20I3B\",\"Modal\":\"styles_Modal__2qbLZ\",\"Button\":\"styles_Button__Rzigg\"};","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api\";\n\nconst API_KEY = \"20839696-a971fa945b676bf9ea56a302e\";\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  timeout: 2000,\n});\n\naxiosInstance.defaults.params = {};\naxiosInstance.defaults.params[\"key\"] = API_KEY;\n\nconst fetchImages = ({ currentPage = 1, searchQuery = \"\" }) => {\n  return axiosInstance\n    .get(\n      `/?q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\n\nconst apiObj = { fetchImages };\nexport default apiObj;\n","import React, { Component } from 'react';\nimport styles from '../../styles.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  hendleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n    console.log(e);\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    // console.log(this.props.onSubmit(this.state.query));\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            onChange={this.hendleChange}\n            value={this.state.query}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport styles from '../../styles.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, id, onClick }) => {\n  // console.log(id);\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        key={id}\n        src={webformatURL}\n        alt=\"\"\n        className={styles.ImageGalleryItemImage}\n        onClick={() => onClick(id)}\n        onLoad={() =>\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          })\n        }\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalaryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from '../../styles.module.css';\n\nconst ImageGallery = ({ pictures, onClick }) => {\n  //   console.log(pictures);\n  return (\n    <ul className={styles.ImageGallery}>\n      {pictures.map(picture => (\n        <ImageGalaryItem\n          webformatURL={picture.webformatURL}\n          id={picture.id}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport styles from '../../styles.module.css';\n\nconst Button = ({ onClick }) => {\n  //   console.log(onClick);\n  return (\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\n      Load more...\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nconst errorItem = () => {\n  <p>Oh NO :( !!!</p>;\n};\n\nexport default errorItem;\n","import React, { Component } from 'react';\nimport styles from '../../styles.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    console.log('Modal componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Escape');\n\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    console.log(this.props.children);\n    return (\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\n        <div className={styles.Modal}>\n          <img src={this.props.children} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\n// import axios from \"axios\";\nimport pixabayApi from \"./api/pixabayApi\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport ErrorItem from \"./components/ErrorItem/ErrorItem\";\nimport Modal from \"./components/Modal/Modal\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    selectedPicture: undefined,\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.searchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    console.log(query);\n    this.setState({\n      pictures: [],\n      currentPage: 1,\n      searchQuery: query,\n      error: null,\n    });\n  };\n\n  searchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    pixabayApi\n      .fetchImages(options)\n      .then((pictures) => {\n        this.setState((prevState) => ({\n          pictures: [...prevState.pictures, ...pictures],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => {\n        this.setState({ error });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = (id) => {\n    if (id) {\n      this.setState(({ pictures }) => ({\n        selectedPicture: pictures.find((picture) => picture.id === id)\n          .largeImageURL,\n      }));\n    } else {\n      this.setState({\n        selectedPicture: undefined,\n      });\n    }\n  };\n\n  render() {\n    const { pictures, isLoading, error, selectedPicture } = this.state;\n    const shouldLoadMoreBtn = pictures.length > 0 && !isLoading;\n\n    return (\n      <>\n        {error && <ErrorItem />}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n        <ImageGallery\n          onClick={this.toggleModal}\n          pictures={this.state.pictures}\n        />\n        {shouldLoadMoreBtn && <Button onClick={this.searchImages} />}\n        {selectedPicture && (\n          <Modal onClose={this.toggleModal}>{selectedPicture}</Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}